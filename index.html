<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medical Report Generator</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    label { display: block; margin-top: 10px; }
    input { width: 100%; padding: 5px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px 20px; margin-right: 10px; }
    #bracket-buttons { margin-top: 10px; }
    #bracket-buttons button { padding: 5px 10px; font-size: 16px; margin-right: 5px; }
    #output { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f9f9f9; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h2>Medical Report Generator</h2>

  <label for="date">Date (dd/mm/yy)</label><input type="text" id="date" inputmode="numeric">
  <label for="name">Initials (4 letters)</label><input type="text" id="name" maxlength="4" pattern="[A-Za-z]*">

  <div id="bracket-buttons">
    <button onclick="insertSymbol('(')">(</button>
    <button onclick="insertSymbol(')')">)</button>
  </div>

  <label for="hb">Hb (g%)</label><input type="text" inputmode="decimal" id="hb">
  <label for="tlc">TLC</label><input type="text" inputmode="decimal" id="tlc">
  <label for="dlc">DLC</label><input type="text" inputmode="decimal" id="dlc">
  <label for="cbc">Plt</label><input type="text" inputmode="decimal" id="cbc">
  <label for="cr">Creatinine (mg/dL)</label><input type="text" inputmode="decimal" id="cr">
  <label for="na">Sodium (Na+)</label><input type="text" inputmode="decimal" id="na">
  <label for="k">Potassium (K+)</label><input type="text" inputmode="decimal" id="k">
  <label for="uric">Uric Acid</label><input type="text" inputmode="decimal" id="uric">
  <label for="calcium">Calcium</label><input type="text" inputmode="decimal" id="calcium">
  <label for="otpt">OT/PT</label><input type="text" inputmode="decimal" id="otpt">
  <label for="alp">ALP</label><input type="text" inputmode="decimal" id="alp">
  <label for="albumin">Albumin</label><input type="text" inputmode="decimal" id="albumin">
  <label for="hba1c">HbA1C</label><input type="text" inputmode="decimal" id="hba1c">
  <label for="sugar">Blood Sugar Fasting</label><input type="text" inputmode="decimal" id="sugar">
  <label for="tsh">TSH</label><input type="text" inputmode="decimal" id="tsh">
  <label for="ch">Cholesterol (CH)</label><input type="text" inputmode="decimal" id="ch">
  <label for="hdl">HDL</label><input type="text" inputmode="decimal" id="hdl">
  <label for="ldl">LDL</label><input type="text" inputmode="decimal" id="ldl">
  <label for="b12">Vitamin B12</label><input type="text" inputmode="decimal" id="b12">
  <label for="d">Vitamin D</label><input type="text" inputmode="decimal" id="d">
  <label for="iron">Iron</label><input type="text" inputmode="decimal" id="iron">
  <label for="tibc">TIBC</label><input type="text" inputmode="decimal" id="tibc">
  <label for="ferritin">Ferritin</label><input type="text" inputmode="decimal" id="ferritin">
  <label for="esr">ESR</label><input type="text" inputmode="decimal" id="esr">
  <label for="crp">CRP</label><input type="text" inputmode="decimal" id="crp">
  <label for="acr">ACR</label><input type="text" inputmode="decimal" id="acr">
  <label for="urinepus">Urine Pus Cells</label><input type="text" inputmode="decimal" id="urinepus">
  <label for="urinerbc">Urine RBC</label><input type="text" inputmode="decimal" id="urinerbc">
  <label for="psa">PSA</label><input type="text" inputmode="decimal" id="psa">

  <button onclick="generateReport()">Copy Report to Clipboard</button>
  <button onclick="clearFields()">Clear All</button>
  <div id="output"></div>

  <script>
    function insertSymbol(symbol) {
      const active = document.activeElement;
      if (active && active.tagName === 'INPUT') {
        const start = active.selectionStart;
        const end = active.selectionEnd;
        const value = active.value;
        active.value = value.substring(0, start) + symbol + value.substring(end);
        active.selectionStart = active.selectionEnd = start + symbol.length;
        active.focus();
      }
    }

    function generateReport() {
      const fields = [
        ['Name', 'name', ''], ['Date', 'date', ''], ['Hb', 'hb', 'g%'], ['TLC', 'tlc', ''], ['DLC', 'dlc', ''],
        ['Plt', 'cbc', ''], ['Creatinine', 'cr', 'mg/dL'], ['Na+', 'na', ''], ['K+', 'k', ''], ['Uric Acid', 'uric', ''],
        ['Calcium', 'calcium', ''], ['OT/PT', 'otpt', ''], ['ALP', 'alp', ''], ['Albumin', 'albumin', ''],
        ['HbA1C', 'hba1c', ''], ['Blood Sugar F', 'sugar', ''], ['TSH', 'tsh', ''], ['CH', 'ch', ''], ['HDL', 'hdl', ''],
        ['LDL', 'ldl', ''], ['B12', 'b12', ''], ['D', 'd', ''], ['Iron', 'iron', ''], ['TIBC', 'tibc', ''],
        ['Ferritin', 'ferritin', ''], ['ESR', 'esr', ''], ['CRP', 'crp', ''], ['ACR', 'acr', ''],
        ['Urine Pus Cells', 'urinepus', ''], ['Urine RBC', 'urinerbc', ''], ['PSA', 'psa', '']
      ];

      let report = fields.map(([label, id, unit]) => {
        const value = document.getElementById(id).value.trim();
        return value ? `${label}: ${value}${unit ? ' ' + unit : ''}` : null;
      }).filter(Boolean).join(', ');

      document.getElementById('output').innerText = report;
      navigator.clipboard.writeText(report)
        .then(() => alert('Report copied to clipboard'))
        .catch(err => alert('Copy failed: ' + err));
    }

    function clearFields() {
      const inputs = document.querySelectorAll('input');
      inputs.forEach(input => input.value = '');
      document.getElementById('output').innerText = '';
    }
  </script>
</body>
</html>
